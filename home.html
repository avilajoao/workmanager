<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unyx - Home</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
  <style>
    /* Tema escuro */
    body.dark {
      background-color: #1a202c;
      color: #cbd5e0;
    }
    .dark .bg-white {
      background-color: #2d3748;
    }
    .dark .text-gray-600 {
      color: #a0aec0;
    }
    .dark .text-gray-800 {
      color: #e2e8f0;
    }
    .dark .bg-gray-100 {
      background-color: #2d3748;
    }
    .dark .bg-gray-200 {
      background-color: #4a5568;
    }
    .dark .bg-gray-300 {
      background-color: #718096;
    }
    .dark .bg-gray-700 {
      background-color: #4a5568;
    }
    .dark .bg-gray-800 {
      background-color: #2d3748;
    }
    .dark .border-gray-600 {
      border-color: #718096;
    }
    .dark .text-white {
      color: #e2e8f0;
    }
    .dark .border {
      border-color: #4a5568;
    }

    /* Botão de menu como gota */
    .menu-tab {
      position: fixed;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
      background-color: #fff;
      border: 1px solid #ccc;
      border-radius: 0 50% 50% 0;
      padding: 16px;
      cursor: pointer;
      z-index: 30;
    }
    .dark .menu-tab {
      background-color: #2d3748;
      border-color: #4a5568;
    }

    /* Ajustar bordas das páginas */
    .page-content {
      margin: 0 2rem;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans dark:bg-gray-900 dark:text-white">

  <div id="app" class="flex h-screen">
    <!-- Barra Lateral -->
    <aside
      :class="['w-64 bg-white shadow-md p-4 fixed top-0 left-0 h-full sidebar dark:bg-gray-800', isSidebarExpanded ? '' : 'collapsed']"
    >
      <div class="flex flex-col space-y-4">
        <button @click="navigateTo('obras.html')" :class="['px-4 py-2 rounded', currentView === 'obras' ? 'bg-orange-500 text-white' : 'bg-gray-300 text-gray-600 dark:bg-gray-700 dark:text-white']">
          O. Ativas
        </button>
        <button @click="navigateTo('dashboard.html')" :class="['px-4 py-2 rounded', currentView === 'dashboard' ? 'bg-blue-500 text-white' : 'bg-gray-300 text-gray-600 dark:bg-gray-700 dark:text-white']">
          Dashboard
        </button>
      </div>
    </aside>

    <!-- Botão de Menu -->
    <div @click="toggleSidebar" class="menu-tab">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"
        />
      </svg>
    </div>

    <!-- Conteúdo Principal -->
    <div class="flex-1 transition-all duration-300 page-content">
      <!-- Header -->
      <header class="bg-white shadow-md p-4 flex justify-between items-center dark:bg-gray-800">
        <div class="flex items-center space-x-4">
          <h1 class="text-xl font-bold dark:text-white">Unyx Gerenciamento de Obras</h1>
        </div>
        <div class="relative flex items-center space-x-4">
          <!-- Botão de Alternância de Tema -->
          <button @click="toggleDarkMode" class="cursor-pointer">
            <svg
              v-if="isDarkMode"
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6 text-yellow-400 hover:text-yellow-500"
              fill="none"
              viewBox="0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
              />
            </svg>
            <svg
              v-else
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
              />
            </svg>
          </button>

          <!-- Ícone de lupa -->
          <svg
            @click="toggleSearch"
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 cursor-pointer text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
            />
          </svg>

          <!-- Campo de busca -->
          <input
            v-model="searchQuery"
            placeholder="Buscar por nome"
            :class="['absolute right-0 px-4 py-2 rounded border transition-all duration-300', isSearchExpanded ? 'w-48 opacity-100' : 'w-0 opacity-0']"
            class="bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white search-input"
            @blur="collapseSearch"
          />
        </div>
      </header>

      <!-- Conteúdo da Home -->
      <div class="p-4">
        <h2 class="text-2xl font-bold mb-4">Bem-vindo ao Unyx Gerenciamento de Obras</h2>
        <p class="mb-4">Escolha uma das opções no menu lateral para começar.</p>
      </div>
    </div>
  </div>

  <script>
    const { createApp, ref } = Vue;

    createApp({
      setup() {
        const isSidebarExpanded = ref(false); // Controla se a barra lateral está expandida
        const isSearchExpanded = ref(false); // Controla se a barra de pesquisa está expandida
        const isDarkMode = ref(localStorage.getItem('isDarkMode') === 'true'); // Estado do tema escuro
        const searchQuery = ref(''); // Campo de busca

        // Aplicar o tema salvo ao carregar a página
        if (isDarkMode.value) {
          document.body.classList.add('dark');
        }

        // Função para expandir/recolher a barra lateral
        const toggleSidebar = () => {
          isSidebarExpanded.value = !isSidebarExpanded.value;
        };

        // Função para expandir/recolher a barra de pesquisa
        const toggleSearch = () => {
          isSearchExpanded.value = !isSearchExpanded.value;
        };

        // Função para recolher a barra de pesquisa ao perder o foco
        const collapseSearch = () => {
          isSearchExpanded.value = false;
        };

        // Função para alternar entre os temas claro e escuro
        const toggleDarkMode = () => {
          isDarkMode.value = !isDarkMode.value;
          localStorage.setItem('isDarkMode', isDarkMode.value);
          document.body.classList.toggle('dark', isDarkMode.value);
        };

        // Função para navegar para outra página
        const navigateTo = (page) => {
          window.location.href = page;
        };

        return {
          isSidebarExpanded,
          isSearchExpanded,
          isDarkMode,
          searchQuery,
          toggleSidebar,
          toggleSearch,
          collapseSearch,
          toggleDarkMode,
          navigateTo,
        };
      },
    }).mount('#app');
  </script>
</body>
</html>